#
# Ubuntu <%= @code_name %> - Generated by Chef
#

deb <% if @architectures -%>[arch=<%= @architectures.join(" ") %>] <% end -%><%= @archive_url %> <%= @code_name %> <%= @components %>
<% if @include_source_packages -%>deb-src <%= @archive_url%> <%= @code_name %> <%= @components %><% end -%>

deb <% if @architectures -%>[arch=<%= @architectures.join(" ") %>] <% end -%><%= @archive_url %> <%= @code_name %>-updates <%= @components %>
<% if @include_source_packages -%>deb-src <%= @archive_url %> <%= @code_name %>-updates <%= @components %><% end -%>

#
# Security updates
#
deb <% if @architectures -%>[arch=<%= @architectures.join(" ") %>] <% end -%><%= @security_url %> <%= @code_name %>-security <%= @components %>
<% if @include_source_packages -%>deb-src <%= @security_url %> <%= @code_name %>-security <%= @components %><% end -%>

<% if node['ubuntu']['backports_repository'] %>
    # Backported applications
    deb <%= node['ubuntu']['archive_url'] %> <%= @code_name %>-backports main restricted universe multiverse
    deb-src <%= node['ubuntu']['archive_url'] %> <%= @code_name %>-backports main restricted universe multiverse
<% end %>

<% if node['ubuntu']['partner_repository'] %>
    # This software is not part of Ubuntu, but is offered by Canonical and the
    # respective vendors as a service to Ubuntu users.
    deb http://archive.canonical.com/ubuntu <%= @code_name %> partner
    deb-src http://archive.canonical.com/ubuntu <%= @code_name %> partner
<% end %>

<% if node['ubuntu']['extras_repository'] %>
    ## This software is not part of Ubuntu, but is offered by third-party
    ## developers who want to ship their latest software.
    deb http://extras.ubuntu.com/ubuntu <%= @code_name %> main
    deb-src http://extras.ubuntu.com/ubuntu <%= @code_name %> main
<% end %>